PROJECT_ROOT="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"

# Keep persistent data on the Windows mount
REPODIR="$PROJECT_ROOT/repo"
PROFILE="$PROJECT_ROOT/profile"
OUTDIR="$PROJECT_ROOT/out"
STATEDIR="$PROJECT_ROOT/state"
LOCKFILE="$STATEDIR/build.lock"
LOGFILE="$STATEDIR/build.log"

# Move ephemeral build directories to native WSL filesystem
# This fixes permission issues (chmod/chown) and improves IO performance
BUILD_ROOT="/var/tmp/archiso-zfs"
WORKDIR="$BUILD_ROOT/work"
AUR_BUILDDIR="$BUILD_ROOT/aurbuild"
CHROOTDIR="$BUILD_ROOT/chroot"